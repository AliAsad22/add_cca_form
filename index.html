<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create New CCA</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Custom styles for the stepper */
        .step {
            transition: all 0.3s ease;
        }
        .step-active {
            background-color: #8B5CF6; /* purple-500 */
            color: white;
        }
        .step-inactive {
            background-color: #E5E7EB; /* gray-200 */
            color: #4B5563; /* gray-600 */
        }
        .step-line {
            transition: all 0.3s ease;
            background-color: #E5E7EB; /* gray-200 */
        }
        .step-line-active {
             background-color: #8B5CF6; /* purple-500 */
        }
        /* Custom file input */
        .file-drop-area {
            transition: border-color 0.2s ease-in-out;
        }
        .file-drop-area.dragover {
            border-color: #8B5CF6;
            background-color: #F5F3FF;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <div class="flex h-screen">
        <!-- Sidebar Placeholder -->
        <aside class="w-64 bg-white shadow-md flex-shrink-0 hidden md:block">
            <div class="p-6">
                 <div class="flex items-center space-x-3">
                     <svg class="h-10 w-10 text-purple-600" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5-10-5-10 5z"/></svg>
                     <span class="text-xl font-bold">start up early</span>
                </div>
            </div>
            <nav class="mt-6">
                <!-- Nav items would go here -->
                 <a href="#" class="flex items-center px-6 py-3 text-purple-600 bg-purple-50">
                    <span class="ml-3 font-semibold">CCAs</span>
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 flex flex-col overflow-hidden">
            <!-- Header -->
            <div class="bg-white shadow-sm p-4 flex justify-between items-center">
                <h1 class="text-xl font-semibold text-gray-900">Create a New Co-Curricular Activity (CCA)</h1>
                <div class="flex items-center space-x-2">
                    <div class="w-10 h-10 bg-purple-200 rounded-full flex items-center justify-center font-bold text-purple-700">ST</div>
                    <span class="font-semibold hidden sm:inline">Admin</span>
                </div>
            </div>

            <div class="flex-1 overflow-y-auto p-4 sm:p-6 md:p-8">
                <div class="max-w-4xl mx-auto">
                    <!-- Stepper -->
                    <div id="stepper" class="mb-8">
                        <div class="flex items-center">
                            <div class="step step-active flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center font-bold" data-step="1">1</div>
                            <div class="step-line flex-1 h-1 mx-2"></div>
                            <div class="step step-inactive flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center font-bold" data-step="2">2</div>
                            <div class="step-line flex-1 h-1 mx-2"></div>
                            <div class="step step-inactive flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center font-bold" data-step="3">3</div>
                            <div class="step-line flex-1 h-1 mx-2"></div>
                            <div class="step step-inactive flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center font-bold" data-step="4">4</div>
                        </div>
                         <div class="flex justify-between mt-2 text-sm font-medium text-gray-600">
                            <span class="w-10 text-center">Basic Info</span>
                            <span class="w-10 text-center -ml-4">Media</span>
                            <span class="w-10 text-center -ml-2">Constraints</span>
                            <span class="w-10 text-center">Review</span>
                        </div>
                    </div>

                    <!-- Form Content -->
                    <div class="bg-white p-8 rounded-2xl shadow-lg">
                        <div id="form-steps">
                            <!-- Step 1: Basic Information -->
                            <div class="form-step" data-step="1">
                                <h2 class="text-2xl font-bold text-gray-900">Basic Information</h2>
                                <p class="text-gray-500 mt-1 mb-6">Start with the essential details for your new CCA.</p>
                                <div class="space-y-6">
                                    <div>
                                        <label for="cca-title" class="block text-sm font-medium text-gray-700 mb-1">CCA Title</label>
                                        <input type="text" id="cca-title" placeholder="e.g., Robotics Club" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-purple-500 focus:border-purple-500">
                                    </div>
                                    <div>
                                        <label for="cca-category" class="block text-sm font-medium text-gray-700 mb-1">Category</label>
                                        <select id="cca-category" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-purple-500 focus:border-purple-500">
                                            <option>Select a category...</option>
                                            <option>Sports & Athletics</option>
                                            <option>Science & Technology</option>
                                            <option>Arts & Culture</option>
                                            <option>Community Service</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label for="cca-description" class="block text-sm font-medium text-gray-700 mb-1">Description</label>
                                        <textarea id="cca-description" rows="5" placeholder="Provide a detailed description of the CCA..." class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-purple-500 focus:border-purple-500"></textarea>
                                        <p class="text-xs text-gray-500 mt-1 text-right">0/5000 characters</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Step 2: Media & Branding -->
                            <div class="form-step hidden" data-step="2">
                                <h2 class="text-2xl font-bold text-gray-900">Media & Branding</h2>
                                <p class="text-gray-500 mt-1 mb-6">Upload images and add social links to represent your CCA.</p>
                                <div class="space-y-8">
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                                        <!-- Logo Upload -->
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-1">Logo</label>
                                            <div id="logo-drop-area" class="file-drop-area mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-lg">
                                                <div id="logo-preview-container" class="hidden w-full h-full text-center">
                                                    <img id="logo-preview" class="mx-auto h-24 w-24 object-cover rounded-full">
                                                    <button onclick="removeFile('logo')" class="mt-2 text-sm text-red-600 hover:text-red-800">Remove</button>
                                                </div>
                                                <div id="logo-prompt" class="space-y-1 text-center">
                                                    <svg class="mx-auto h-12 w-12 text-gray-400" stroke="currentColor" fill="none" viewBox="0 0 48 48" aria-hidden="true"><path d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></svg>
                                                    <div class="flex text-sm text-gray-600">
                                                        <label for="logo-input" class="relative cursor-pointer bg-white rounded-md font-medium text-purple-600 hover:text-purple-500 focus-within:outline-none"><span>Upload a file</span><input id="logo-input" name="logo" type="file" class="sr-only" accept="image/*"></label>
                                                        <p class="pl-1">or drag and drop</p>
                                                    </div>
                                                    <p class="text-xs text-gray-500">PNG, JPG, GIF up to 10MB</p>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- Cover Photo Upload -->
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-1">Cover Photo</label>
                                            <div id="cover-drop-area" class="file-drop-area mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-lg">
                                                <div id="cover-preview-container" class="hidden w-full h-full text-center">
                                                    <img id="cover-preview" class="mx-auto h-24 w-full object-cover rounded-lg">
                                                    <button onclick="removeFile('cover')" class="mt-2 text-sm text-red-600 hover:text-red-800">Remove</button>
                                                </div>
                                                <div id="cover-prompt" class="space-y-1 text-center">
                                                    <svg class="mx-auto h-12 w-12 text-gray-400" stroke="currentColor" fill="none" viewBox="0 0 48 48" aria-hidden="true"><path d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></svg>
                                                    <div class="flex text-sm text-gray-600">
                                                        <label for="cover-input" class="relative cursor-pointer bg-white rounded-md font-medium text-purple-600 hover:text-purple-500 focus-within:outline-none"><span>Upload a file</span><input id="cover-input" name="cover" type="file" class="sr-only" accept="image/*"></label>
                                                        <p class="pl-1">or drag and drop</p>
                                                    </div>
                                                    <p class="text-xs text-gray-500">Recommended size: 1600x400px</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Socials -->
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700">Socials</label>
                                        <p class="text-sm text-gray-500 mb-3">Define how users on the internet can find your event.</p>
                                        <div class="space-y-4">
                                            <input type="url" id="website-url" placeholder="Website URL" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-purple-500 focus:border-purple-500">
                                            <input type="url" id="instagram-url" placeholder="Instagram Profile URL" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-purple-500 focus:border-purple-500">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Step 3: Details -->
                             <div class="form-step hidden" data-step="3">
                                <h2 class="text-2xl font-bold text-gray-900">CCA Details</h2>
                                <p class="text-gray-500 mt-1 mb-6">Define the rules, schedule, and criteria for this activity.</p>
                                <div class="space-y-8">
                                    <!-- Access & Payment -->
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                        <div class="flex items-center justify-between p-4 border rounded-lg">
                                            <div>
                                                <h3 class="font-medium text-gray-800">Access Type</h3>
                                                <p class="text-sm text-gray-500">Public or Private</p>
                                            </div>
                                            <div class="flex items-center space-x-3">
                                                <span class="text-sm font-medium text-gray-600">Private</span>
                                                <label for="access-toggle" class="relative inline-flex items-center cursor-pointer">
                                                    <input type="checkbox" value="" id="access-toggle" class="sr-only peer">
                                                    <div class="w-11 h-6 bg-gray-200 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"></div>
                                                </label>
                                                <span class="text-sm font-medium text-gray-600">Public</span>
                                            </div>
                                        </div>
                                        <div class="flex items-center justify-between p-4 border rounded-lg">
                                            <div>
                                                <h3 class="font-medium text-gray-800">Payment Status</h3>
                                                <p class="text-sm text-gray-500">Is this a paid club?</p>
                                            </div>
                                            <div class="flex items-center space-x-3">
                                                <span class="text-sm font-medium text-gray-600">Free</span>
                                                <label for="payment-toggle" class="relative inline-flex items-center cursor-pointer">
                                                    <input type="checkbox" value="" id="payment-toggle" class="sr-only peer">
                                                    <div class="w-11 h-6 bg-gray-200 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"></div>
                                                </label>
                                                <span class="text-sm font-medium text-gray-600">Paid</span>
                                            </div>
                                        </div>
                                    </div>
                                     <!-- Grading Criteria & Time Commitment -->
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700">Grading & Commitment</label>
                                        <p class="text-sm text-gray-500 mb-3">Define the grading basis and weekly time commitment.</p>
                                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                            <select id="grading-criteria" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-purple-500 focus:border-purple-500">
                                                <option>Local</option>
                                                <option>Regional</option>
                                                <option>National</option>
                                            </select>
                                            <select id="time-commitment" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-purple-500 focus:border-purple-500">
                                                <option>Low (1-2 Hrs / Week)</option>
                                                <option selected>Moderate (2-4 Hrs / Week)</option>
                                                <option>High (4+ Hrs / Week)</option>
                                            </select>
                                        </div>
                                    </div>
                                    <!-- Constraints & Audience -->
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700">Enrollment Constraints</label>
                                        <p class="text-sm text-gray-500 mb-3">Define who can sign up and the maximum capacity.</p>
                                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                            <select id="audience" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-purple-500 focus:border-purple-500">
                                                <option>All</option>
                                                <option>Students Only</option>
                                                <option>Faculty Only</option>
                                                <option>Grade 9-10</option>
                                                <option>Grade 11-12</option>
                                            </select>
                                            <input type="number" id="capacity" placeholder="Maximum Capacity (e.g., 20)" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-purple-500 focus:border-purple-500">
                                        </div>
                                    </div>
                                     <!-- Schedule -->
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700">Schedule</label>
                                        <p class="text-sm text-gray-500 mb-3">Choose the days this CCA typically meets.</p>
                                        <div class="grid grid-cols-3 sm:grid-cols-4 md:grid-cols-7 gap-2">
                                            <button type="button" class="day-toggle p-3 border rounded-lg font-medium text-sm hover:border-purple-500 focus:bg-purple-100 focus:border-purple-600">Mon</button>
                                            <button type="button" class="day-toggle p-3 border rounded-lg font-medium text-sm hover:border-purple-500 focus:bg-purple-100 focus:border-purple-600">Tue</button>
                                            <button type="button" class="day-toggle p-3 border rounded-lg font-medium text-sm hover:border-purple-500 focus:bg-purple-100 focus:border-purple-600">Wed</button>
                                            <button type="button" class="day-toggle p-3 border rounded-lg font-medium text-sm hover:border-purple-500 focus:bg-purple-100 focus:border-purple-600">Thu</button>
                                            <button type="button" class="day-toggle p-3 border rounded-lg font-medium text-sm hover:border-purple-500 focus:bg-purple-100 focus:border-purple-600">Fri</button>
                                            <button type="button" class="day-toggle p-3 border rounded-lg font-medium text-sm hover:border-purple-500 focus:bg-purple-100 focus:border-purple-600">Sat</button>
                                            <button type="button" class="day-toggle p-3 border rounded-lg font-medium text-sm hover:border-purple-500 focus:bg-purple-100 focus:border-purple-600">Sun</button>
                                        </div>
                                    </div>
                                </div>
                             </div>

                            <!-- Step 4: Review -->
                            <div class="form-step hidden" data-step="4">
                                <h2 class="text-2xl font-bold text-gray-900">Review & Create</h2>
                                <p class="text-gray-500 mt-1 mb-6">Please review all the information before creating the CCA.</p>
                                <div class="space-y-4 p-6 bg-gray-50 rounded-lg border">
                                    <h3 class="font-semibold text-lg border-b pb-2 mb-2">Basic Info</h3>
                                    <div class="flex justify-between"><span class="font-medium text-gray-600">Title:</span><span id="review-title" class="text-gray-800 font-semibold text-right"></span></div>
                                    <div class="flex justify-between"><span class="font-medium text-gray-600">Category:</span><span id="review-category" class="text-gray-800 font-semibold text-right"></span></div>
                                    
                                    <h3 class="font-semibold text-lg border-b pb-2 mb-2 pt-4">Details</h3>
                                    <div class="flex justify-between"><span class="font-medium text-gray-600">Access:</span><span id="review-access" class="text-gray-800 font-semibold text-right"></span></div>
                                    <div class="flex justify-between"><span class="font-medium text-gray-600">Payment:</span><span id="review-payment" class="text-gray-800 font-semibold text-right"></span></div>
                                    <div class="flex justify-between"><span class="font-medium text-gray-600">Audience:</span><span id="review-audience" class="text-gray-800 font-semibold text-right"></span></div>
                                    <div class="flex justify-between"><span class="font-medium text-gray-600">Max Capacity:</span><span id="review-capacity" class="text-gray-800 font-semibold text-right"></span></div>
                                    <div class="flex justify-between"><span class="font-medium text-gray-600">Commitment:</span><span id="review-commitment" class="text-gray-800 font-semibold text-right"></span></div>
                                    <div class="flex justify-between"><span class="font-medium text-gray-600">Meeting Days:</span><span id="review-days" class="text-gray-800 font-semibold text-right"></span></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sticky Footer for Actions -->
            <div class="bg-white/70 backdrop-blur-sm border-t p-4 mt-auto">
                <div class="max-w-4xl mx-auto flex justify-between items-center">
                    <button id="back-btn" class="bg-gray-200 px-6 py-2 text-sm font-semibold text-gray-700 rounded-lg shadow-sm hover:bg-gray-300 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
                        Back
                    </button>
                    <button id="next-btn" class="bg-purple-600 px-6 py-2 text-sm font-semibold text-white rounded-lg shadow-sm hover:bg-purple-700 transition-colors">
                        Next Step
                    </button>
                </div>
            </div>
        </main>
    </div>

    <script>
        const steps = document.querySelectorAll('.form-step');
        const stepperIcons = document.querySelectorAll('#stepper .step');
        const stepperLines = document.querySelectorAll('#stepper .step-line');
        const backBtn = document.getElementById('back-btn');
        const nextBtn = document.getElementById('next-btn');

        let currentStep = 1;

        const updateStep = (newStep) => {
            // Hide current step
            document.querySelector(`.form-step[data-step="${currentStep}"]`).classList.add('hidden');
            
            // Show new step
            const nextStepElement = document.querySelector(`.form-step[data-step="${newStep}"]`);
            if(nextStepElement) nextStepElement.classList.remove('hidden');

            currentStep = newStep;

            // Update stepper UI
            stepperIcons.forEach((icon, index) => {
                const stepNum = index + 1;
                if (stepNum < currentStep) {
                    icon.classList.remove('step-active', 'step-inactive');
                    icon.classList.add('step-active');
                    icon.innerHTML = '&#10003;'; // Checkmark
                } else if (stepNum === currentStep) {
                    icon.classList.remove('step-inactive');
                    icon.classList.add('step-active');
                    icon.innerHTML = stepNum;
                } else {
                    icon.classList.remove('step-active');
                    icon.classList.add('step-inactive');
                    icon.innerHTML = stepNum;
                }
            });

            stepperLines.forEach((line, index) => {
                if (index < currentStep - 1) {
                    line.classList.add('step-line-active');
                } else {
                    line.classList.remove('step-line-active');
                }
            });

            // Update button states
            backBtn.disabled = currentStep === 1;
            if (currentStep === steps.length) {
                nextBtn.textContent = 'Create Club';
            } else {
                nextBtn.textContent = 'Next Step';
            }
        };

        nextBtn.addEventListener('click', () => {
            if (currentStep < steps.length) {
                if (currentStep === 3) { // Before going to review step
                    populateReview();
                }
                updateStep(currentStep + 1);
            } else {
                // Handle final form submission
                alert('Club Created Successfully!');
            }
        });

        backBtn.addEventListener('click', () => {
            if (currentStep > 1) {
                updateStep(currentStep - 1);
            }
        });

        // --- File Upload Logic ---
        ['logo', 'cover'].forEach(type => {
            const dropArea = document.getElementById(`${type}-drop-area`);
            const fileInput = document.getElementById(`${type}-input`);
            const previewContainer = document.getElementById(`${type}-preview-container`);
            const previewImg = document.getElementById(`${type}-preview`);
            const prompt = document.getElementById(`${type}-prompt`);

            dropArea.addEventListener('dragover', (e) => {
                e.preventDefault();
                dropArea.classList.add('dragover');
            });
            dropArea.addEventListener('dragleave', () => dropArea.classList.remove('dragover'));
            dropArea.addEventListener('drop', (e) => {
                e.preventDefault();
                dropArea.classList.remove('dragover');
                const files = e.dataTransfer.files;
                if (files.length) {
                    fileInput.files = files;
                    handleFile(files[0], type);
                }
            });
            fileInput.addEventListener('change', () => {
                if (fileInput.files.length) {
                    handleFile(fileInput.files[0], type);
                }
            });
        });

        function handleFile(file, type) {
            if (file && file.type.startsWith('image/')) {
                const reader = new FileReader();
                reader.onload = (e) => {
                    document.getElementById(`${type}-preview`).src = e.target.result;
                    document.getElementById(`${type}-prompt`).classList.add('hidden');
                    document.getElementById(`${type}-preview-container`).classList.remove('hidden');
                };
                reader.readAsDataURL(file);
            }
        }

        window.removeFile = (type) => { // Make it global for onclick
            document.getElementById(`${type}-input`).value = '';
            document.getElementById(`${type}-prompt`).classList.remove('hidden');
            document.getElementById(`${type}-preview-container`).classList.add('hidden');
            document.getElementById(`${type}-preview`).src = '';
        }

        // --- Day Toggle Logic ---
        document.querySelectorAll('.day-toggle').forEach(button => {
            button.addEventListener('click', () => {
                button.classList.toggle('bg-purple-100');
                button.classList.toggle('border-purple-600');
                button.classList.toggle('text-purple-700');
            });
        });
        
        // --- Review Step Population ---
        function populateReview() {
            // Basic Info
            document.getElementById('review-title').textContent = document.getElementById('cca-title').value || 'Not provided';
            const categorySelect = document.getElementById('cca-category');
            document.getElementById('review-category').textContent = categorySelect.options[categorySelect.selectedIndex].text || 'Not provided';
            
            // Details
            document.getElementById('review-access').textContent = document.getElementById('access-toggle').checked ? 'Public' : 'Private';
            document.getElementById('review-payment').textContent = document.getElementById('payment-toggle').checked ? 'Paid' : 'Free';
            const audienceSelect = document.getElementById('audience');
            document.getElementById('review-audience').textContent = audienceSelect.options[audienceSelect.selectedIndex].text;
            document.getElementById('review-capacity').textContent = document.getElementById('capacity').value || 'Unlimited';
            const commitmentSelect = document.getElementById('time-commitment');
            document.getElementById('review-commitment').textContent = commitmentSelect.options[commitmentSelect.selectedIndex].text;
            const selectedDays = [];
            document.querySelectorAll('.day-toggle.bg-purple-100').forEach(btn => selectedDays.push(btn.textContent));
            document.getElementById('review-days').textContent = selectedDays.join(', ') || 'None selected';
        }


        // Initial state
        updateStep(1);
    </script>
</body>
</html>
